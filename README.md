{
  "content": [
    {
      "client": "0016",
      "clientIds": null,
      "sysPrin": "12121213",
      "custType": "1",
      "undeliverable": "1",
      "statA": "0",
      "statB": "0",
      "statC": "1",
      "statD": "1",
      "statE": "0",
      "statF": "0",
      "statI": "0",
      "statL": "0",
      "statO": "0",
      "statU": "0",
      "statX": "0",
      "statZ": "0",
      "poBox": "1",
      "addrFlag": "1",
      "tempAway": 1145,
      "rps": "1",
      "session": " ",
      "badState": "1",
      "astatRch": "1",
      "nm13": "1",
      "tempAwayAtts": 1146,
      "reportMethod": 0,
      "sysPrinActive": "1",
      "notes": "Notes for 38383838 updated updated 12121813 updated updated updated 888  for 87878787 87878787 this is new updated new new updated new rows for 54510400 54510400 new update for 12121212 12121212 12121212",
      "returnStatus": "A",
      "destroyStatus": "1",
      "nonUS": "1",
      "special": "1",
      "pinMailer": "1",
      "holdDays": 1144,
      "forwardingAddress": "1",
      "sysPrinContact": "",
      "sysPrinPhone": "",
      "entityCode": "0",
      "invalidDelivAreas": [
        {
          "area": "CT",
          "sysPrin": "12121213"
        },
        {
          "area": "GA",
          "sysPrin": "12121213"
        }
      ],
      "vendorSentTo": [
        {
          "sysPrin": "12121213",
          "vendorId": "v03",
          "queForMail": true,
          "vendor": {
            "id": "v03",
            "name": "Solutions                                         ",
            "active": true,
            "receiver": true,
            "fileServerName": "tafmsas2                                ",
            "fileServerIp": "               ",
            "fileServerUserId": "ndmfrd0   ",
            "fileServerPassword": "0718CF1F9445528370DDFE84CA612E9D                  ",
            "fileName": "Solutions.txt                                     ",
            "uncShare": "Transferdata                                                                                                                                                                                                                                                   ",
            "path": "Temp                                              ",
            "archivePath": "Rapid\\Archive                                     ",
            "vendorTypeCode": "A",
            "fileIo": "I",
            "clientSpecific": false,
            "schedule": "10:30:00",
            "dateLastWorked": "2015/09/08",
            "fileSize": null,
            "fileTransferSpecs": null,
            "fileType": 3,
            "ftpPassive": null,
            "ftpFileType": null
          }
        },
        {
          "sysPrin": "12121213",
          "vendorId": "v04",
          "queForMail": false,
          "vendor": {
            "id": "v04",
            "name": "Remail Memo Rejects                               ",
            "active": true,
            "receiver": false,
            "fileServerName": "tafmsas2                                ",
            "fileServerIp": "               ",
            "fileServerUserId": "ndmfrd0   ",
            "fileServerPassword": "0718CF1F9445528370DDFE84CA612E9D                  ",
            "fileName": "FWRreject.OUT                                     ",
            "uncShare": "Transferdata                                                                                                                                                                                                                                                   ",
            "path": "Rapid                                             ",
            "archivePath": "Rapid\\Archive                                     ",
            "vendorTypeCode": "R",
            "fileIo": "I",
            "clientSpecific": false,
            "schedule": "10:30:00",
            "dateLastWorked": "2015/09/08",
            "fileSize": null,
            "fileTransferSpecs": null,
            "fileType": 3,
            "ftpPassive": null,
            "ftpFileType": null
          }
        },
        {
          "sysPrin": "12121213",
          "vendorId": "v05",
          "queForMail": false,
          "vendor": {
            "id": "v05",
            "name": "Memo Rejects                                      ",
            "active": true,
            "receiver": true,
            "fileServerName": "tafmsas2                                ",
            "fileServerIp": "               ",
            "fileServerUserId": "ndmfrd0   ",
            "fileServerPassword": "0718CF1F9445528370DDFE84CA612E9D                  ",
            "fileName": "RETRreject.OUT                                    ",
            "uncShare": "Transferdata                                                                                                                                                                                                                                                   ",
            "path": "Rapid                                             ",
            "archivePath": "Rapid\\Archive                                     ",
            "vendorTypeCode": "R",
            "fileIo": "I",
            "clientSpecific": false,
            "schedule": "10:30:00",
            "dateLastWorked": "2015/09/08",
            "fileSize": null,
            "fileTransferSpecs": null,
            "fileType": 3,
            "ftpPassive": null,
            "ftpFileType": null
          }
        }
      ],
      "vendorReceivedFrom": [
        {
          "sysPrin": "12121213",
          "vendorId": "v01",
          "queForMail": true,
          "vendor": {
            "id": "v01",
            "name": "Teleservices                                      ",
            "active": true,
            "receiver": true,
            "fileServerName": "tafmsas2                                ",
            "fileServerIp": "               ",
            "fileServerUserId": "ndmfrd0   ",
            "fileServerPassword": "0718CF1F9445528370DDFE84CA612E9D                  ",
            "fileName": "Rapid-Amex.TXT                                    ",
            "uncShare": "Transferdata                                                                                                                                                                                                                                                   ",
            "path": "Rapid                                             ",
            "archivePath": "Rapid\\Archive                                     ",
            "vendorTypeCode": "A",
            "fileIo": "O",
            "clientSpecific": false,
            "schedule": "10:30:00",
            "dateLastWorked": "2015/09/07",
            "fileSize": null,
            "fileTransferSpecs": null,
            "fileType": 3,
            "ftpPassive": null,
            "ftpFileType": null
          }
        },
        {
          "sysPrin": "12121213",
          "vendorId": "v02",
          "queForMail": false,
          "vendor": {
            "id": "v02",
            "name": "Letters                                           ",
            "active": true,
            "receiver": true,
            "fileServerName": "tafmsas2                                ",
            "fileServerIp": "               ",
            "fileServerUserId": "ndmfrd0   ",
            "fileServerPassword": "0718CF1F9445528370DDFE84CA612E9D                  ",
            "fileName": "AmexLetters.txt                                   ",
            "uncShare": "Transferdata                                                                                                                                                                                                                                                   ",
            "path": "Rapid                                             ",
            "archivePath": "Rapid\\Archive                                     ",
            "vendorTypeCode": "A",
            "fileIo": "O",
            "clientSpecific": false,
            "schedule": "10:30:00",
            "dateLastWorked": "2015/09/08",
            "fileSize": null,
            "fileTransferSpecs": null,
            "fileType": 3,
            "ftpPassive": null,
            "ftpFileType": null
          }
        },
        {
          "sysPrin": "12121213",
          "vendorId": "v09",
          "queForMail": false,
          "vendor": {
            "id": "v09",
            "name": "Solutions Send                                    ",
            "active": true,
            "receiver": true,
            "fileServerName": "tafmsas2                                ",
            "fileServerIp": "               ",
            "fileServerUserId": "ndmfrd0   ",
            "fileServerPassword": "0718CF1F9445528370DDFE84CA612E9D                  ",
            "fileName": "SOLU.TXT                                          ",
            "uncShare": "Transferdata                                                                                                                                                                                                                                                   ",
            "path": "RAPID\\Solutions\\Output\\RFIIRA2I                   ",
            "archivePath": null,
            "vendorTypeCode": "A",
            "fileIo": "O",
            "clientSpecific": false,
            "schedule": "10:30:00",
            "dateLastWorked": "2015/09/07",
            "fileSize": 156,
            "fileTransferSpecs": null,
            "fileType": 3,
            "ftpPassive": null,
            "ftpFileType": null
          }
        }
        }
      ]
    }
  ],
  "page": 0,
  "size": 10,
  "totalElements": 18,
  "totalPages": 2
}






// src/views/sys-prin-configuration/utils/SysPrinIntegrationService.ts

export interface SysPrinDTO {
  client: string;
  sysPrin: string;
  // plus all other fields from the backend
  [key: string]: any;
}

/**
 * Shape of your Java `SysPrinPaginationResponse<SysPrinDTO>`.
 * Adjust field names here if your JSON differs.
 */
export interface SysPrinPageResponse {
  items: SysPrinDTO[];   // list of SysPrins for this page
  page: number;          // current page index (0-based)
  size: number;          // page size
  total: number;         // total number of SysPrins for this client
}

/**
 * Fetch paged SysPrins for a client.
 *
 * GET /sysprins/client/{clientId}/paged?page={page}&size={size}
 */
export async function fetchSysPrinsByClientPaged(
  clientId: string,
  page: number,
  size: number,
): Promise<SysPrinPageResponse> {
  const url = `http://localhost:8089/client-sysprin-reader/api/sysprins/client/${encodeURIComponent(
    clientId,
  )}/paged?page=${encodeURIComponent(page)}&size=${encodeURIComponent(size)}`;

  const resp = await fetch(url, {
    method: 'GET',
    headers: { accept: '*/*' },
  });

  if (!resp.ok) {
    const text = await resp.text().catch(() => '');
    throw new Error(
      `Failed to fetch SysPrins for client ${clientId}, page=${page}, size=${size}: ${resp.status} ${text}`,
    );
  }

  const json = await resp.json();

  // Fallback: if backend still returns plain array, wrap it.
  if (Array.isArray(json)) {
    const arr = json as SysPrinDTO[];
    return {
      items: arr,
      page,
      size,
      total: arr.length,
    };
  }

  // Normal: assume backend sends { items, page, size, total }
  const typed = json as SysPrinPageResponse;
  return {
    items: typed.items ?? [],
    page: typeof typed.page === 'number' ? typed.page : page,
    size: typeof typed.size === 'number' ? typed.size : size,
    total: typeof typed.total === 'number' ? typed.total : (typed.items?.length ?? 0),
  };
}








